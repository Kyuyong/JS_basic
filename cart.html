<!doctype html>
<html lang="en">

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<link rel="stylesheet" href="main.css">
	<script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>

	<title>Hello, world!</title>
</head>


<body>

	<div class="container">
	
	  <h1>물품 팝니다.</h1>
		<div class="row">
			<div class="col-sm-4">
				<img src="https://via.placeholder.com/600" class="w-100">
				<h5>Blossom Dress</h5>
				<p>가격 : 70000</p>
				<button class="buy">구매1</button>
			</div>
			<div class="col-sm-4">
				<img src="https://via.placeholder.com/600" class="w-100">
				<h5>Springfield Shirt</h5>
				<p>가격 : 50000</p>
				<button class="buy">구매2</button>
			</div>
			<div class="col-sm-4">
				<img src="https://via.placeholder.com/600" class="w-100">
				<h5>Black Monastery</h5>
				<p>가격 : 60000</p>
				 <button class="buy">구매3</button>
			</div>
		</div>
	</div>
	





	<script>
		var products = [{
				id: 0,
				price: 70000,
				title: 'Blossom Dress'
			},
			{
				id: 1,
				price: 50000,
				title: 'Springfield Shirt'
			},
			{
				id: 2,
				price: 60000,
				title: 'Black Monastery'
			}
		];

		var arr = [];

		//		구매를 클릭하면 상품명을 가져오고
		//		상품명을 가져오면 

		// 		로컬 스토리지에 저장한다
		//		
		//		로컬 스토리지에 저장할때 null 이면 
		//		바로 arr를 저장을 하고 
		//		로컬 스토리지가 가득이면, cart를 지우고 다시 arr를 저장을 한다. 

// 내가 만든 소스 
//		$('.buy').click(function() {
//			var productsTilte = $(this).siblings().eq(1).text();
//			//			console.log(productsTilte);			
//			arr.push(productsTilte);
//			if (JSON.parse(localStorage.getItem('cart')) == null) {
//				localStorage.setItem('cart', JSON.stringify(arr));
//			} else {
//				localStorage.removeItem('cart');
//				localStorage.setItem('cart', JSON.stringify(arr));
//			};
//
//		});
    
    
// 숙제결과 소스 
    $('.buy').click(function(e){
      var title = $(e.target).siblings('h5').text();

      if(localStorage.getItem('cart') != null){
         var arr = JSON.parse(localStorage.cart);
         arr.push(title);
         localStorage.setItem('cart', JSON.stringify(arr));
         }
     else{
         localStorage.setItem('cart', JSON.stringify([title]));
         }
      
    });
    
    

		//		localStorage.setItem('cart', JSON.stringify(arr));


		// if(JSON.parse(localStorage.getItem('cart')) == null){
		// localStorage.setItem('cart', JSON.stringify(arr));
		// }else {
		// localStorage.removeItem('cart');
		// localStorage.setItem('cart', JSON.stringify(arr));
		// };
		//

		//		// 브라우저 로컬 스토리지 사용방법 
		//
		//		localStorage.setItem('이름', 'Kim');
		//		localStorage.getItem('이름');
		//		localStorage.removeItem('이름');
		//
		//		// 로컬스토리지는 문자,숫자 저장만 가능해지만, JSON으로 변환하면 저장가능
		//		var arr = [1, 2, 3];
		//		var newarr = JSON.stringify(arr);
		//
		//		localStorage.setItem('num', newarr);
		//		var 꺼낸거 = localStorage.getItem('num');
		//		JSON.parse(꺼낸거);
		//		console.log(JSON.parse(꺼낸거)[0]);
	</script>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>


</body></html>
